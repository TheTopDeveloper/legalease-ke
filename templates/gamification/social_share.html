{% extends 'base.html' %}

{% block title %}Share Achievement - Kenyan Legal Assistant{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/gamification.css') }}">
<meta property="og:title" content="I earned the {{ achievement.name }} badge on Kenyan Legal Assistant!">
<meta property="og:description" content="{{ achievement.description }}">
<meta property="og:image" content="{{ url_for('static', filename='images/badges/' + achievement.icon, _external=True) if achievement.icon.endswith('.svg') else url_for('static', filename='images/logo.png', _external=True) }}">
<meta property="og:url" content="{{ request.url }}">
<meta name="twitter:card" content="summary_large_image">
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card shadow">
                <div class="card-body text-center">
                    <h2 class="mb-4">Share Your Achievement</h2>
                    
                    <div class="achievement-card p-4 mb-4">
                        <div class="row align-items-center">
                            <div class="col-md-4 text-center mb-3 mb-md-0">
                                <div class="achievement-badge">
                                    {% if achievement.icon.endswith('.svg') %}
                                        <img src="{{ url_for('static', filename='images/badges/' + achievement.icon) }}" alt="{{ achievement.name }}">
                                    {% else %}
                                        <i class="{{ achievement.icon }}"></i>
                                    {% endif %}
                                    <div class="achievement-points">+{{ achievement.points }}</div>
                                </div>
                            </div>
                            <div class="col-md-8 text-md-start text-center">
                                <h3 class="achievement-name">{{ achievement.name }}</h3>
                                <p class="achievement-description">{{ achievement.description }}</p>
                                <div class="badge bg-primary mb-2">{{ achievement.category|capitalize }}</div>
                                <p>Earned on {{ earned_at.strftime('%B %d, %Y') }}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="share-message mt-4 mb-4">
                        <p class="lead">Share your achievement with friends and colleagues!</p>
                    </div>
                    
                    <div class="share-buttons mb-5">
                        <a href="#" class="achievement-share-btn twitter me-2" 
                           data-achievement-id="{{ achievement.id }}"
                           data-achievement-name="{{ achievement.name }}"
                           data-share-type="twitter">
                            <i class="bi bi-twitter"></i> Twitter
                        </a>
                        <a href="#" class="achievement-share-btn facebook me-2" 
                           data-achievement-id="{{ achievement.id }}"
                           data-achievement-name="{{ achievement.name }}"
                           data-share-type="facebook">
                            <i class="bi bi-facebook"></i> Facebook
                        </a>
                        <a href="#" class="achievement-share-btn linkedin me-2" 
                           data-achievement-id="{{ achievement.id }}"
                           data-achievement-name="{{ achievement.name }}"
                           data-share-type="linkedin">
                            <i class="bi bi-linkedin"></i> LinkedIn
                        </a>
                        <a href="#" class="achievement-share-btn whatsapp" 
                           data-achievement-id="{{ achievement.id }}"
                           data-achievement-name="{{ achievement.name }}"
                           data-share-type="whatsapp">
                            <i class="bi bi-whatsapp"></i> WhatsApp
                        </a>
                    </div>
                    
                    <div class="social-benefits mt-5">
                        <h4>Benefits of Sharing</h4>
                        <div class="row mt-3">
                            <div class="col-md-4 mb-3">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <i class="bi bi-trophy text-success fs-2 mb-3"></i>
                                        <h5>Recognition</h5>
                                        <p>Show off your legal expertise achievements</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <i class="bi bi-people text-primary fs-2 mb-3"></i>
                                        <h5>Community</h5>
                                        <p>Connect with other legal professionals</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card h-100">
                                    <div class="card-body text-center">
                                        <i class="bi bi-coin text-warning fs-2 mb-3"></i>
                                        <h5>Rewards</h5>
                                        <p>Earn extra tokens for each successful share</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <a href="{{ url_for('gamification.achievements') }}" class="btn btn-primary">Back to Achievements</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/gamification.js') }}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize achievement sharing
        window.gamification.initAchievementSharing();
    });
</script>
{% endblock %}